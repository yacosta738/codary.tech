---
import SearchInput from './SearchInput.astro';
const categories = [
  { name: 'Desarrollo Web', slug: 'web' },
  { name: 'Inteligencia Artificial', slug: 'ia' },
  { name: 'Ciberseguridad', slug: 'seguridad' },
  { name: 'Startups', slug: 'startups' },
];
---

<div
  id="mobile-menu"
  class="fixed inset-0 bg-gray-800/50 backdrop-blur-sm hidden"
  aria-hidden="true"
>
  <div class="fixed inset-y-0 right-0 w-64 bg-white shadow-xl p-6">
    <div class="flex justify-end mb-8">
      <button
        id="close-menu"
        class="text-gray-500 hover:text-gray-700"
        aria-label="Cerrar menÃº"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <nav class="space-y-4">
      {categories.map(category => (
        <a
          href={`/categoria/${category.slug}`}
          class="block text-gray-600 hover:text-primary transition-colors"
        >
          {category.name}
        </a>
      ))}
    </nav>

    <div class="mt-8">
      <SearchInput />
    </div>
  </div>
</div>

<script>
  const mobileMenu = document.getElementById('mobile-menu');
  const openButton = document.getElementById('open-menu');
  const closeButton = document.getElementById('close-menu');

  function toggleMenu() {
    mobileMenu?.classList.toggle('hidden');
    document.body.classList.toggle('overflow-hidden');
  }

  openButton?.addEventListener('click', toggleMenu);
  closeButton?.addEventListener('click', toggleMenu);
</script>
