---
import { Icon } from "astro-icon/components";
export interface Props {
	type?: "button" | "submit" | "reset";
	ariaLabel?: string;
	class?: string;
	loading?: boolean;
	[key: string]: unknown;
}

const {
	type = "button",
	ariaLabel,
	loading = false,
	class: className = "",
	...attrs
} = Astro.props;

// Base class for all buttons
const baseClass =
	"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 px-4 py-2 rounded font-medium hover:bg-zinc-800 dark:hover:bg-zinc-100 transition-colors relative flex items-center gap-2";
// Default style class (can be overridden with className)
const styleClass = "bg-white text-black hover:bg-gray-100 focus:ring-white";
---

<button
  type={type}
  class:list={[baseClass, styleClass, className]}
  aria-label={ariaLabel}
    {...attrs}
>
  <slot name="prefix" />
  <slot />
  <slot name="suffix" />
  <slot name="loading">
    {loading && (
       <Icon name="tabler:loader-2" class="size-5 animate-spin" />
    )}
    </slot>
</button>
